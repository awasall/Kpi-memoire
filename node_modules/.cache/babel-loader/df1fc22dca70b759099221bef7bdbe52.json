{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\src\\\\ComponentLib\\\\Authentication\\\\EditUser.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport config from '../../constants/config';\nimport { tokenConfig } from '../../App/utilitity'; //import AppNavbar from './AppNavbar';\n\nvar EditUser = function EditUser() {\n  var initialFormState = {\n    name: '',\n    username: ''\n  };\n\n  var _useState = useState(initialFormState),\n      _useState2 = _slicedToArray(_useState, 2),\n      group = _useState2[0],\n      setGroup = _useState2[1];\n\n  var navigate = useHistory();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  useEffect(function () {\n    fetch(\"\".concat(config.apiBaseUrl, \"/api/auth/detailuser/\").concat(id), tokenConfig()).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setGroup(data);\n    });\n  }, [id, setGroup]);\n\n  var handleChange = function handleChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setGroup(_objectSpread({}, group, _defineProperty({}, name, value)));\n  };\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event) {\n      var method, token, requestOptions;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              method = group.id ? 'PUT' : 'POST';\n              token = localStorage.getItem(\"token\");\n              requestOptions = {\n                method: method,\n                headers: {\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + token,\n                  mode: 'no-cors'\n                },\n                body: JSON.stringify(group)\n              };\n              _context.next = 6;\n              return fetch(\"\".concat(config.apiBaseUrl, \"/api/auth/modifuser/\").concat(group.id), requestOptions);\n\n            case 6:\n              // setGroup(initialFormState);\n              navigate.push('/listeUser');\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var title = React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Modifier l'utilisateur\");\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, title, React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Name\"), React.createElement(Input, {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    value: group.name || '',\n    onChange: handleChange,\n    autoComplete: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Username\"), React.createElement(Input, {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    value: group.username || '',\n    onChange: handleChange,\n    autoComplete: \"address-level1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Save\"), ' ', React.createElement(Button, {\n    color: \"secondary\",\n    tag: Link,\n    to: \"/listUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Cancel\")))));\n};\n\nexport default EditUser;","map":{"version":3,"sources":["C:\\Users\\a851272\\OneDrive - Atos\\Bureau\\KPI-Jira-Front-End-master\\src\\ComponentLib\\Authentication\\EditUser.js"],"names":["React","useEffect","useState","Link","useHistory","useParams","Button","Container","Form","FormGroup","Input","Label","config","tokenConfig","EditUser","initialFormState","name","username","group","setGroup","navigate","id","fetch","apiBaseUrl","then","response","json","data","handleChange","event","target","value","handleSubmit","preventDefault","method","token","localStorage","getItem","requestOptions","headers","Accept","Authorization","mode","body","JSON","stringify","push","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport config from '../../constants/config';\r\nimport { tokenConfig } from '../../App/utilitity';\r\n\r\n//import AppNavbar from './AppNavbar';\r\n\r\nconst EditUser = () => {\r\n  const initialFormState = {\r\n    name: '',\r\n    username: '' \r\n  };\r\n  const [group, setGroup] = useState(initialFormState);\r\n  const navigate = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    \r\n      fetch(`${config.apiBaseUrl}/api/auth/detailuser/${id}`,tokenConfig())\r\n        .then(response => response.json())\r\n        .then(data => setGroup(data));\r\n    \r\n  }, [id, setGroup]);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target\r\n\r\n    setGroup({...group, [name]: value })\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const method = (group.id) ? 'PUT' : 'POST';\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const requestOptions = {\r\n      method: method,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + token,\r\n        mode: 'no-cors'\r\n      },\r\n      body: JSON.stringify(group)\r\n    }\r\n\r\n    await fetch(`${config.apiBaseUrl}/api/auth/modifuser/${group.id}`, requestOptions);\r\n   // setGroup(initialFormState);\r\n    navigate.push('/listeUser');\r\n  }\r\n\r\n  const title = <h2>Modifier l'utilisateur</h2>;\r\n\r\n  return (<div>\r\n     \r\n      <Container>\r\n        {title}\r\n        <Form onSubmit={handleSubmit}>\r\n          <FormGroup>\r\n            <Label for=\"name\">Name</Label>\r\n            <Input type=\"text\" name=\"name\" id=\"name\" value={group.name || ''}\r\n                   onChange={handleChange} autoComplete=\"name\"/>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label for=\"address\">Username</Label>\r\n            <Input type=\"text\" name=\"username\" id=\"username\" value={group.username || ''}\r\n                   onChange={handleChange} autoComplete=\"address-level1\"/>\r\n          </FormGroup>\r\n          \r\n          <FormGroup>\r\n            <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n            <Button color=\"secondary\" tag={Link} to=\"/listUser\">Cancel</Button>\r\n          </FormGroup>\r\n        </Form>\r\n      </Container>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default EditUser;"]},"metadata":{},"sourceType":"module"}