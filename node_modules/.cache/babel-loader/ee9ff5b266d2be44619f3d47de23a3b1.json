{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\src\\\\App\\\\layout\\\\parameters\\\\UpdateDb.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { Modal } from 'antd';\nimport { Button } from 'react-bootstrap';\nimport Loading from '../../components/Loader/Loading';\nimport UcFirst from '../../components/UcFirst';\nimport Axios from 'axios';\nimport config from '../../../constants/config';\nimport { tokenConfig } from '../../utilitity';\nimport { connect } from 'react-redux';\nimport { getCategories } from '../../../store/actions/projectActions';\n\nvar UpdateDb =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UpdateDb, _React$Component);\n\n  function UpdateDb() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UpdateDb);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UpdateDb)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      visible: true,\n      confirmLoading: false\n    };\n\n    _this.handleOk = function () {\n      _this.props.history.goBack();\n    };\n\n    _this.updateDB = function () {\n      Axios.get(\"\".concat(config.apiBaseUrl, \"/update\"), tokenConfig()).then(function (res) {\n        setTimeout(function () {\n          _this.setState({\n            confirmLoading: false\n          });\n\n          getCategories();\n        }, 20000);\n      }).catch(function (err) {\n        console.log('err', err);\n\n        _this.setState({\n          confirmLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateDb, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        confirmLoading: true\n      });\n      this.updateDB();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          visible = _this$state.visible,\n          confirmLoading = _this$state.confirmLoading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        title: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"feather icon-refresh-cw pr-2\",\n          style: {\n            fontSize: \"21px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }), \"Mise \\xE0 Jour la base de donn\\xE9e\"),\n        visible: visible,\n        confirmLoading: confirmLoading,\n        closable: false,\n        footer: null //onCancel={this.handleCancel}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, confirmLoading ? React.createElement(Loading, {\n        className: \"my-2\",\n        fontSize: 65,\n        color: \"orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"container text-center \",\n        style: {\n          fontSize: \"25px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Mise \\xE0 jour avec succ\\xE8s \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"fa fa-check-circle fa-2x text-success mt-1\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleOk,\n        disabled: confirmLoading,\n        className: \"py-1\",\n        style: {\n          background: \"#F16E00\",\n          borderColor: \"rgba(241, 110, 0, 0.78)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, confirmLoading ? \"En cours...\" : React.createElement(UcFirst, {\n        text: \"Ok\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return UpdateDb;\n}(React.Component);\n\nexport default compose(withRouter, connect(null, {\n  getCategories: getCategories\n}))(UpdateDb);","map":{"version":3,"sources":["C:\\Users\\a851272\\OneDrive - Atos\\Bureau\\KPI-Jira-Front-End-master\\src\\App\\layout\\parameters\\UpdateDb.js"],"names":["React","withRouter","compose","Modal","Button","Loading","UcFirst","Axios","config","tokenConfig","connect","getCategories","UpdateDb","state","visible","confirmLoading","handleOk","props","history","goBack","updateDB","get","apiBaseUrl","then","res","setTimeout","setState","catch","err","console","log","fontSize","background","borderColor","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { compose } from 'redux'\nimport { Modal } from 'antd';\nimport { Button } from 'react-bootstrap';\nimport Loading from '../../components/Loader/Loading';\nimport UcFirst from '../../components/UcFirst';\nimport Axios from 'axios';\nimport config from '../../../constants/config';\nimport { tokenConfig } from '../../utilitity';\nimport { connect } from 'react-redux';\nimport { getCategories } from '../../../store/actions/projectActions';\nclass UpdateDb extends React.Component {\n    state = {\n        visible: true,\n        confirmLoading: false,\n    }\n\n    handleOk = () => {\n        this.props.history.goBack()\n    }\n\n    componentDidMount() {\n        this.setState({\n            confirmLoading: true,\n        });\n        this.updateDB()\n    }\n    updateDB = () => {\n        Axios\n            .get(`${config.apiBaseUrl}/update`, tokenConfig())\n            .then(res => {\n                setTimeout(() => {\n                    this.setState({\n                        confirmLoading: false,\n                    });\n                    getCategories()\n                }, 20000);\n            })\n            .catch(err => {\n                console.log('err', err)\n                this.setState({\n                    confirmLoading: false,\n                });\n            });\n    }\n    render() {\n        const { visible, confirmLoading } = this.state;\n\n        return (\n            <div>\n\n                <Modal title={<div><i className=\"feather icon-refresh-cw pr-2\" style={{ fontSize: \"21px\" }}></i>Mise à Jour la base de donnée</div>}\n                    visible={visible}\n                    confirmLoading={confirmLoading}\n                    closable={false}\n                    footer={null}\n                //onCancel={this.handleCancel}\n                >\n                    {confirmLoading ?\n                        <Loading className=\"my-2\" fontSize={65} color=\"orange\" />\n                        : <div className='container text-center ' style={{ fontSize: \"25px\" }}>\n                            Mise à jour avec succès <br />\n                            <i className=\"fa fa-check-circle fa-2x text-success mt-1\" aria-hidden=\"true\"></i>\n                        </div>\n                    }\n                    <div className=\"text-right\">\n                        <Button onClick={this.handleOk} disabled={confirmLoading} className=\"py-1\" style={{ background: \"#F16E00\", borderColor: \"rgba(241, 110, 0, 0.78)\" }}>\n                            {confirmLoading ?\n                                \"En cours...\" :\n                                <UcFirst text={\"Ok\"} />\n                            }\n                        </Button>\n                    </div>\n                </Modal>\n\n            </div>\n        );\n    }\n}\n\nexport default compose(\n    withRouter,\n    connect(null, { getCategories })\n)(UpdateDb)\n"]},"metadata":{},"sourceType":"module"}