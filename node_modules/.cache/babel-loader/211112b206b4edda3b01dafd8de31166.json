{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\a851272\\\\OneDrive - Atos\\\\Bureau\\\\KPI-Jira-Front-End-master\\\\src\\\\ComponentLib\\\\Dashboard\\\\Projects.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport Aux from \"../../hoc/_Aux\";\nimport MainCard from '../../App/components/MainCard';\nimport Axios from 'axios';\nimport config from '../../constants/config';\nimport { tokenConfig } from '../../App/utilitity';\nimport Board from '../../App/components/Board';\nimport { Pagination } from 'antd';\n\nvar Projects =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Projects, _React$Component);\n\n  function Projects(props) {\n    var _this;\n\n    _classCallCheck(this, Projects);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Projects).call(this, props));\n\n    _this.fetchProjects = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var query = '';\n      if (params) query += \"?page=\".concat(params.page, \"&size=\").concat(params.pageSize);\n      if (_this.props.match.params.id) Axios.get(config.apiBaseUrl + \"/project/category/\" + _this.props.match.params.id + query, tokenConfig()).then(function (res) {\n        return _this.setState({\n          projects: res.data.content,\n          pagination: _objectSpread({}, _this.state.pagination, {\n            // Read total count from server\n            total: res.data.totalElements\n          })\n        });\n      }).catch(function (err) {\n        console.error('err', err);\n      });else Axios.get(config.apiBaseUrl + \"/project/category/autres\" + query, tokenConfig()).then(function (res) {\n        return _this.setState({\n          projects: res.data.content,\n          pagination: _objectSpread({}, _this.state.pagination, {\n            total: res.data.totalElements\n          })\n        });\n      }).catch(function (err) {\n        console.error('err', err);\n      });\n    };\n\n    _this.onPaginationChange = function (page, pageSize) {\n      // console.log('page,pageSize', page, pageSize)\n      _this.fetchProjects(_objectSpread({}, _this.state.pagination, {\n        page: page,\n        pageSize: pageSize\n      }));\n    };\n\n    _this.state = {\n      // projects: undefined,\n      pagination: {\n        defaultPageSize: 5,\n        pageSizeOptions: ['5', '10', '15'],\n        showSizeChanger: true\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Projects, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchProjects(); //console.log('this.state.projects', this.state.projects)\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.match.params.id !== prevProps.match.params.id) {\n        this.fetchProjects();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var projects = this.state.projects;\n      if (projects && projects.length === 0) return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-center  \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \" Pas de projet de cette cat\\xE9gorie  \")));else if (projects) return React.createElement(Aux, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Pagination, Object.assign({\n        size: \"small\",\n        className: \" bg-light border py-1 text-center mb-2\",\n        onChange: this.onPaginationChange,\n        onShowSizeChange: this.onPaginationChange\n      }, this.state.pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), showProjects(projects));else return React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Chargement... \");\n    }\n  }]);\n\n  return Projects;\n}(React.Component);\n\nvar showProjects = function showProjects(projects) {\n  return projects.map(function (project) {\n    return React.createElement(Row, {\n      key: project.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(MainCard, {\n      title: project.name,\n      isOption: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Board, {\n      projectId: project.id,\n      projectName: project.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))));\n  });\n};\n\nexport default Projects;","map":{"version":3,"sources":["C:\\Users\\a851272\\OneDrive - Atos\\Bureau\\KPI-Jira-Front-End-master\\src\\ComponentLib\\Dashboard\\Projects.js"],"names":["React","Row","Col","Aux","MainCard","Axios","config","tokenConfig","Board","Pagination","Projects","props","fetchProjects","params","undefined","query","page","pageSize","match","id","get","apiBaseUrl","then","res","setState","projects","data","content","pagination","state","total","totalElements","catch","err","console","error","onPaginationChange","defaultPageSize","pageSizeOptions","showSizeChanger","prevProps","length","showProjects","Component","map","project","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\n\nimport Aux from \"../../hoc/_Aux\";\nimport MainCard from '../../App/components/MainCard';\nimport Axios from 'axios';\nimport config from '../../constants/config';\nimport { tokenConfig } from '../../App/utilitity';\nimport Board from '../../App/components/Board';\nimport { Pagination } from 'antd';\n\nclass Projects extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            // projects: undefined,\n            pagination: {\n                defaultPageSize: 5,\n                pageSizeOptions: ['5', '10', '15'],\n                showSizeChanger: true,\n            },\n        }\n    }\n\n    fetchProjects = (params = undefined) => {\n        let query = ''\n        if (params)\n            query += `?page=${params.page}&size=${params.pageSize}`\n\n\n        if (this.props.match.params.id)\n            Axios\n                .get(config.apiBaseUrl + \"/project/category/\" + this.props.match.params.id + query, tokenConfig())\n                .then(res => this.setState({\n                    projects: res.data.content,\n                    pagination: {\n                        ...this.state.pagination,\n                        // Read total count from server\n                        total: res.data.totalElements\n                    }\n                }))\n                .catch(err => {\n                    console.error('err', err)\n                });\n        else\n            Axios\n                .get(config.apiBaseUrl + \"/project/category/autres\" + query, tokenConfig())\n                .then(res => this.setState({\n                    projects: res.data.content,\n                    pagination: {\n                        ...this.state.pagination,\n                        total: res.data.totalElements\n                    }\n                })\n                )\n                .catch(err => {\n                    console.error('err', err)\n                });\n    }\n    onPaginationChange = (page, pageSize) => {\n        // console.log('page,pageSize', page, pageSize)\n        this.fetchProjects({\n            ...this.state.pagination,\n            page,\n            pageSize\n        })\n    }\n\n    componentDidMount() {\n        this.fetchProjects()\n        //console.log('this.state.projects', this.state.projects)\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.fetchProjects();\n        }\n    }\n\n    render() {\n        const projects = this.state.projects\n        if (projects && projects.length === 0)\n            return (\n                <>\n                    <div className=\"container\">\n                        <h3 className=\"text-center  \"> Pas de projet de cette catégorie  </h3>\n                    </div>\n\n                </>\n            )\n\n        else if (projects)\n            return (\n                <Aux>\n                    <Pagination size=\"small\" className=\" bg-light border py-1 text-center mb-2\" onChange={this.onPaginationChange} onShowSizeChange={this.onPaginationChange} {...this.state.pagination} />\n                    {showProjects(projects)}\n                </Aux>\n            );\n        else\n            return (\n                <div className=\"text-center\">Chargement... </div>\n            )\n    }\n}\n\nconst showProjects = (projects) => projects.map(project =>\n    <Row key={project.id}>\n        <Col>\n            <MainCard title={project.name} isOption>\n                <Board projectId={project.id} projectName={project.name} />\n            </MainCard>\n        </Col>\n    </Row>)\nexport default Projects;\n\n"]},"metadata":{},"sourceType":"module"}