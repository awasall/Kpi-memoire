{"version":3,"sources":["App/components/UcFirst.js","App/layout/parameters/UpdateDb.js"],"names":["UcFirst","string","this","props","text","charAt","toUpperCase","slice","React","Component","UpdateDb","state","visible","confirmLoading","handleOk","history","goBack","updateDB","Axios","get","config","apiBaseUrl","tokenConfig","then","res","setTimeout","setState","getCategories","catch","err","console","log","title","className","style","fontSize","closable","footer","color","aria-hidden","onClick","disabled","background","borderColor","compose","withRouter","connect"],"mappings":"wLAEMA,E,iLAEE,IAAMC,EAASC,KAAKC,MAAMC,KAC1B,OAAOH,EAAOI,OAAO,GAAGC,cAAgBL,EAAOM,MAAM,O,UAHvCC,EAAMC,WAObT,O,wMCGTU,E,2MACFC,MAAQ,CACJC,SAAS,EACTC,gBAAgB,G,EAGpBC,SAAW,WACP,EAAKX,MAAMY,QAAQC,U,EASvBC,SAAW,WACPC,IACKC,IADL,UACYC,IAAOC,WADnB,WACwCC,eACnCC,MAAK,SAAAC,GACFC,YAAW,WACP,EAAKC,SAAS,CACVb,gBAAgB,IAEpBc,gBACD,QAENC,OAAM,SAAAC,GACHC,QAAQC,IAAI,MAAOF,GACnB,EAAKH,SAAS,CACVb,gBAAgB,Q,mFAnB5BX,KAAKwB,SAAS,CACVb,gBAAgB,IAEpBX,KAAKe,a,+BAoBC,IAAD,EAC+Bf,KAAKS,MAAjCC,EADH,EACGA,QAASC,EADZ,EACYA,eAEjB,OACI,6BAEI,kBAAC,IAAD,CAAOmB,MAAO,6BAAK,uBAAGC,UAAU,+BAA+BC,MAAO,CAAEC,SAAU,UAApE,uCACVvB,QAASA,EACTC,eAAgBA,EAChBuB,UAAU,EACVC,OAAQ,MAGPxB,EACG,kBAAC,IAAD,CAASoB,UAAU,OAAOE,SAAU,GAAIG,MAAM,WAC5C,yBAAKL,UAAU,yBAAyBC,MAAO,CAAEC,SAAU,SAA3D,iCAC0B,6BACxB,uBAAGF,UAAU,6CAA6CM,cAAY,UAG9E,yBAAKN,UAAU,cACX,kBAAC,IAAD,CAAQO,QAAStC,KAAKY,SAAU2B,SAAU5B,EAAgBoB,UAAU,OAAOC,MAAO,CAAEQ,WAAY,UAAWC,YAAa,4BACnH9B,EACG,cACA,kBAAC,IAAD,CAAST,KAAM,e,GA1DxBI,IAAMC,WAqEdmC,4BACXC,IACAC,YAAQ,KAAM,CAAEnB,oBAFLiB,CAGblC","file":"static/js/18.b3c36c66.chunk.js","sourcesContent":["import React from 'react';\n\nclass UcFirst extends React.Component {\n    render() {\n        const string = this.props.text;\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n}\n\nexport default UcFirst;","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { compose } from 'redux'\nimport { Modal } from 'antd';\nimport { Button } from 'react-bootstrap';\nimport Loading from '../../components/Loader/Loading';\nimport UcFirst from '../../components/UcFirst';\nimport Axios from 'axios';\nimport config from '../../../constants/config';\nimport { tokenConfig } from '../../utilitity';\nimport { connect } from 'react-redux';\nimport { getCategories } from '../../../store/actions/projectActions';\nclass UpdateDb extends React.Component {\n    state = {\n        visible: true,\n        confirmLoading: false,\n    }\n\n    handleOk = () => {\n        this.props.history.goBack()\n    }\n\n    componentDidMount() {\n        this.setState({\n            confirmLoading: true,\n        });\n        this.updateDB()\n    }\n    updateDB = () => {\n        Axios\n            .get(`${config.apiBaseUrl}/update`, tokenConfig())\n            .then(res => {\n                setTimeout(() => {\n                    this.setState({\n                        confirmLoading: false,\n                    });\n                    getCategories()\n                }, 20000);\n            })\n            .catch(err => {\n                console.log('err', err)\n                this.setState({\n                    confirmLoading: false,\n                });\n            });\n    }\n    render() {\n        const { visible, confirmLoading } = this.state;\n\n        return (\n            <div>\n\n                <Modal title={<div><i className=\"feather icon-refresh-cw pr-2\" style={{ fontSize: \"21px\" }}></i>Mise à Jour la base de donnée</div>}\n                    visible={visible}\n                    confirmLoading={confirmLoading}\n                    closable={false}\n                    footer={null}\n                //onCancel={this.handleCancel}\n                >\n                    {confirmLoading ?\n                        <Loading className=\"my-2\" fontSize={65} color=\"orange\" />\n                        : <div className='container text-center ' style={{ fontSize: \"25px\" }}>\n                            Mise à jour avec succès <br />\n                            <i className=\"fa fa-check-circle fa-2x text-success mt-1\" aria-hidden=\"true\"></i>\n                        </div>\n                    }\n                    <div className=\"text-right\">\n                        <Button onClick={this.handleOk} disabled={confirmLoading} className=\"py-1\" style={{ background: \"#F16E00\", borderColor: \"rgba(241, 110, 0, 0.78)\" }}>\n                            {confirmLoading ?\n                                \"En cours...\" :\n                                <UcFirst text={\"Ok\"} />\n                            }\n                        </Button>\n                    </div>\n                </Modal>\n\n            </div>\n        );\n    }\n}\n\nexport default compose(\n    withRouter,\n    connect(null, { getCategories })\n)(UpdateDb)\n"],"sourceRoot":""}